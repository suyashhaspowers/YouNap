<!DOCTYPE html>
<head>
  <title>YouNap</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Lobster Font -->
  <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">
  <!-- Custom fonts for this template -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <!--icon-->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="manifest" href="site.webmanifest">

<body>
<div class="wrapper">
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="navbar-header">
      <a class="navbar-brand" id="navBrand" href="index.html">YouNap</a>
    </div>
  </nav>
  <!-- Header -->
  <header class="masthead">
    <div class="container d-flex h-100 align-items-center">
      <div class="mx-auto text-center">
        <div class="title">
          <h3 class="mx-auto my-0">A power nap is a 20 minute long nap which is used to quickly
            boost the energy and alertness of the napper. For this nap, the napper stays within the lighter stages
            of NREM (non-rapid eye movement) sleep, thus preventing the napper from reaching deep stages of sleep. This allows
          the napper to wake up with ease.</h3>

        <h2>What time do you want to wake up?</h2>

            Select a time:

    <input type="time" id="myTime">

    <button class="btn btn-primary" onclick="getTime()">Next</button>

    <h2>It takes 15 minutes to fall asleep. Therefore, you should start your nap at:</h2>

    <h3 id="naptime">00:00 AM</h3>

    <!-- JS FUNCTIONALITY -->
    <script>
    function getTime() {
      // getting value from options
      var x = document.getElementById("myTime").value;

      // getting hours and minutes from wake up time
      var time = new Date("07/08/2019 " + x);
      var hours = time.getHours();

      var minutes = time.getMinutes();

      var sub = minutes - 34; //34 is being used because 20 min nap + 14 mins to fall asleep

      //if time is 0 - Hours
      if (hours == 0 ) {
        hours = hours + 12;
        var am = true;
      }

      // creating final time based on whether the hour is reduced or not
      if (sub > 10) {
        //var z = hours.toString();
        var y = sub.toString();
        var startTime = ":" + y;
      }
      else if (sub < 10 && sub > 0) {
        var y = sub.toString();
        var startTime = ":" +"0"+y;
      }
      else if (sub < 0) {
        hours = hours - 1;
        minutes = 60 + sub;
        //var z = hours.toString();
        var y = minutes.toString();
        var startTime = ":" + y;
      }
      else if (sub ==0){
        //var z = hours.toString();
        var y = sub.toString();
        var startTime = ":" + y+"0";
      }

      if (hours > 12) {
        hours = hours - 12;
        var z = hours.toString();
        document.getElementById("naptime").innerHTML = z + startTime + " PM";
      }
      else if (hours == 12) {
        var z = hours.toString();
        document.getElementById("naptime").innerHTML = z + startTime + " PM";
      }
      else if (am) {
        var z = hours.toString();
        document.getElementById("naptime").innerHTML = z + startTime + " PM";
      }
      else if (hours < 12) {
        if (hours == 0) {
          document.getElementById("naptime").innerHTML = "12" + startTime + " AM";
        }
        else {
        var z = hours.toString();
          document.getElementById("naptime").innerHTML = z + startTime + " AM";
        }
      }


    }
    </script>

        <h2>Or do you want to nap now?</h2>
        <div>
          <a href="nowpower.html" class="btn btn-primary">Nap Now</a>
        </div>
      </div>
    </div>
  </header>
</div>
</body>
</>
